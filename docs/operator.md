# 四、运算符

## 4.1 算数运算符

|算数运算符包括：||
|-----|-----|
|`+`|加法运算，字符串连接运算|
|`-`|减法运算|
|`*`|乘法运算|
|`/`|除法运算|
|`%`|取模运算，两个数字相除取余数|
|`++`、`--`|自增自减运算|

java中，整数使用以上运算符，无论怎么计算，也不会得到小数。

```java
public static void main(Sting[] args) {
    int i = 1234;
    System.out.println(i/1000*1000); // 计算结果是1000
}
```

- `++`运算，变量自己增长1。
- `--`运算，变量自己减少1。
    - 独立运算:
        - 变量在独立运行时，`前加++`和`后++`没有区别

    - 混合运算：
        - 和其他变量放在一起，`前++`和`后++`就产生了不同。
        - 变量`前++`：变量`a`自己加`1`，将加`1`后的结果赋值给`b`，也就是所`a`先计算。`a`和`b`的结果都是`2`。
  
    ```java
    public static void main(String[] args) {
        int a = 1;
        int b = ++a;
        System.out.println(a)  // 计算结果是2
        System.out.println(b)  // 计算结果是2
    }
    ```

    - 变量`后++`：变量`a`先把自己的值`1`赋值给变量`b`，此时变量`b`的值是`1`，变量`a`自己再加`1`，`a`的结果是`2`, `b`的结果是`1`.

    ```java
    public static void main(String[] args) {
        int a = 1;
        int b = a++;
        System.out.println(a)  // 计算结果是2
        System.out.println(b)  // 计算结果是1
    }
    ```

  - `+`符号在字符串中的操作：

    - `+`符号在遇- `+`符号在遇到字符串的时候，表示连接、拼接的含义。

    - ‵"a" + "b"`的结果是`"ab"`

    ```java
    
    ```

## 4.2 `+=`符号

```java
public static void main(String[] args) {
    short s = 1;
    s += 1;
    System.out.println(s);
}
```

分析：`s += 1`逻辑上看作是`s = s + 1`计算结果被提升为`int`类型，再向`short`类型赋值时发生错误，因为不能将取值范围大的类型赋值到取值范围小的类型。但是，`s += 1`进行两次运算，`+=`是一个运算符，只运算一次，并带有强制转换的特点，也就是说`s += 1`就是`s = (short)(s + 1)`，因此程序没有问题编译通过，运算结果是2。

## 4.3 常量和变量的运算

```java
public static void main(String[] args) {
    byte b1 = 1;
    byte b2 = 2;
    byte b3 = 1 + 2;
    byte b4 = b1 + b2;
    System.out.println(b3);
    System.out.println(b4);
}
```

分析：`b3 = 1 + 2`，`1`和`2`是常量，为固定不变的数据，javac在编译的时候，已经确定年`1 + 2`的结果并没有超过`byte`类型的取值范围，可以赋值给变量`b3`，因此`b3 = 1 + 2`是正确的。
反之：`b4 = b2 + b3`，`b2`和`b3`是变量，变量的值是可变的，在编译的时候，编译器javac不确定`b2 + b3`的结果是什么，因此会将结果以`int`类型进行处理，所以`int`类型不能给`byte`类型，因此编译失败。

